# 2026

<!--
## 2025-09-24

版本**0.12.0**发布。

该版本的主要成果是 **pH 计算**。

- 添加

  - 添加 pH 计算的支持。
  - 添加 在 BioModel Rate 中的 Min/Max 函数的支持。
  - 现在可以将 Simulation/Sensitivity/Uncertainty/Estimation 的图表结果导出为 SVG 格式。
  - Band/Density/Skeleton/PCD/VariableNSE 的 SVG 格式将保存在本地，PNG 格式将被移除。

- 修复

  - 现在 Calculation Time 将与 DataSet Measured Time 相同。
  - 删除 Client Project Dir 前先进行确认是否存在。

- 更改
  - 删除 Improved Euler （Forward Euler 已经足够）。 -->

<!-- ## 2026-02-16

版本**1.0.2**发布。

此版本是一次小的升级和稳定。

- **更改**
  - DataSet 的 pickle 中的 Hydraulics_Partical 需要改成 Hydraulics_Particulate

- **修正**
  - 去掉 `Kernel` 中 `Grid_dt_second == 0.0D0` 这个无法进一步计算的判断条件（因为 `Grid_dt_second` 可能正好落在一个实测点上，导致 `remaining_times` 为 0），从而避免`Setp Tolerance`的设置可能导致计算无法正确进行。 -->

## 2026-03-01

版本**1.0.2**发布。

此版本是一次小的升级和稳定。

- **添加**
  - BioModel 的 Public 页面添加`Classic`按钮，点击后只显示经典模型。
  - 添加函数 `cleanInvisibleChars`, 用于在 Matrix/Compositions/Connections/Conversions 页面中输入公式保存时，会去除更多看不见的空格。
  - 使用 **AI** 新建 **BioModel** 时，可选择模型数量增加到 6 个， 包括 Gemini 3.1 Pro/Gemini 3.0 Pro/Gemini 2.5 Flash/Claude 4.6 Sonnet/Claude 4.5 Sonnet/Claude 3.5 Haiku。

- **更改**
  - DataSet 的 pickle 中的 Hydraulics_Partical 需要改成 Hydraulics_Particulate。
  - 源代码中的 `Partical` 统一改成 `Particulate`。

- **改进**
  - Matrix/Compositions/Connections/Conversions 页面中输入公式后的零宽空格被去除，即移除 createTextNode('\u200B')。
  - 优化使用 **AI** 新建 **BioModel** 时的提示词，使得解析论文更加容易。
  - 改进了空白新建 `BioModel` 的内容，现在是一个完整的通过平衡验证的矩阵，空白新建 `Project` 时可以直接计算得出结果。
  - 改进了空白新建 `DataSet`, 现在选择 `Targets` 时会添加 Tank 内第二行 Measured 数据, 从而使得空白新建 `Project` 时可以直接计算 `Uncertainty` 和 `Estimation`。

- **修正**
  - 修复左侧菜单栏缩小时，鼠标左键和中键盘点击`Quick Start`/`Changelog`/`Resource`无法跳转的问题。
  - 修复了 Library 中 Components 和 Parameters 的查询错误。
  - 现在 Calculaiton Console 可以正确的获取客户端电脑的 CPU 核心数量了（os.cpus().length 改为 navigator.hardwareConcurrency）。
  - `Setp Tolerance` 现在最多只支持2位小数点。
  - `Setp Tolerance` 在计算 Report 中将固定显示为2位小数点。
  - 更新了 AQUASIM T2P17 的计算案例。
  - 修复了 BioModel/DataSet/Project 的 Personal 表格中点击 Cloned 表头时排序的错误。
  - `figure_data_stream_body()` 补充了 Inflow 只有一个 Component 时的处理。
  - 修复了空白新建 `DataSet` 时的问题, 现在新建 `Layout` 为 `Batch` 且同时选择 `Targets` 将不会新建一个空白的 `Inflow`。
  - 尝试修复 `The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f80f4b40e60>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.`
  - `_get_redundant_component_no()` 补充了只有一个 `redundant` 时的处理。
  - 去掉 `Kernel` 中 `Grid_dt_second == 0.0D0` 这个无法进一步计算的判断条件（因为 `Grid_dt_second` 可能正好落在一个实测点上，导致 `remaining_times` 为 0），从而避免 `Setp Tolerance` 的设置可能导致计算无法正确进行。
  - 修正了一些已知错误。

---

## 2026-02-01

版本**1.0.1**发布。

此版本是一次小的升级和稳定。

- **修正**
  - 当画图函数遇到`BrokenProcessPool`错误时, 会使用主进程继续画图。
  - 修复了`BioModel`偶然出现的保存错误（该错误由前端的不可见空格引起）。
  - 修正了一些已知错误。

---

## 2026-01-19

版本**1.0.0**发布。

该版本的主要成果包括：

<div class="theme-admonition theme-admonition-info admonition_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module alert alert--info">
  <div class="admonitionContent_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module">
  - 支持 **Gemini 3** 创建 `BioModel`。
  - 支持 **pH** 计算。
  - `Python` 版本从 `3.11.9` 升级到 `3.12.12`。
  - 后端框架从 `fastapi` 迁移至 `litestar`。
  - 网址从 [https://www.simpowater.org]() 迁移至 [https://www.simpowater.com]()，访问旧网址将自动重定向至新网址。
  </div>
</div>

- **新增**
  - 支持通过 **AI** 自动解析 **SCI Paper PDF** 的方式（**Gemini 3**）新建 `BioModel`。
  - 支持 **pH** 计算，相关参数在`BioModel.Ionization`中设置。
  - 计算结果现在支持 **svg** 图片格式下载。
  - `Public` 和 `Private` 现在不需要登录就可以访问。
  - 本地动态画图窗口支持用鼠标/键盘左右键切换图片，切换时图片将保持宽高比。

- **更改**
  - **Improved Euler** 将不再支持。通过降低 **Forward Euler** 的 **Step Tolerance** 可以（更快地）达到同样的计算精度。

- **改进**
  - 客户端下载体积大幅减少。
  - 优化本地动态画图功能，减少内存和 CPU 消耗。
  - 前端页面优化，更多地支持自适应屏幕。
  - `Edit` 和 `Export` 按钮从 `Profile` 页面移动到 `Detail` 页面。
  - 可以在 `Project.Detail` 页面对 `BioModel` 和 `DataSet` 进行 `Edit` 和 `Export`。
  - 优化 `BioModel.Matrix`, `Project.Conversion` 等矩阵中的公式输入。
  - `Dashboard` 左侧菜单支持折叠，刷新页面将自动保存折叠状态。
  - 本地保存的 **svg** 图片将移除坐标轴上的科学计数法。
  - 禁用 **Backspace** 按键的回退功能, 防止公式输入未保存前意外退出页面。
  - 顶部弹窗通知内容现在不会重叠显示。
  - `Project.Calculation`的画图结果可以进行精细控制并保存状态，包括：
    - 坐标轴的范围设置。
    - 线的宽度和符号的大小。
    - 画图结果的宽度。
    - 图例的位置。

- **修正**
  - `Project.Calculation.Console` 现在可以正确地获取 `log`。
  - `Project.Targets` 现在可以正确保存。
  - `Inflow` 图现在将正确显示。
  - `BioModel`/`DataSet`/`Project` 现在能被正确地删除。
  - 修复本地保存的 **svg** 图片最后一个点有时无法正确画出的错误。
  - 动态画图窗口可以正确的刷新。
  - 动态画图窗口在任务栏的 icon 现在可以正确显示。
  - 修正了一些已知错误。
